"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[3951],{3951:(k,p,l)=>{l.r(p),l.d(p,{PainelModule:()=>B});var d=l(6814),u=l(95),c=l(2129),e=l(9467),_=l(5219),g=l(707),m=l(3714),f=l(6218),v=l(9552),h=l(3530),Z=l(3722),T=l(8057);function C(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Imagem"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Status"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Detalhes"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Forma de Pagamento"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Valor"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Data do Pedido"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Data de Entrega"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"A\xe7\xf5es"),e.qZA()())}function A(n,i){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t)}}const x=(n,i,t)=>({"status-pendente":n,"status-em-andamento":i,"status-concluido":t});function U(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",21),e.qZA(),e.TgZ(3,"td")(4,"span",22),e._uU(5),e.qZA()(),e.TgZ(6,"td")(7,"ul"),e.YNc(8,A,2,1,"li",15),e.qZA()(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"currency"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td")(21,"button",23),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.downloadResult(r))}),e.qZA()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.s9C("alt",t.fileName),e.Q6J("src",t.resultUrl,e.LSH),e.xp6(2),e.Q6J("ngClass",e.kEZ(18,x,"Pendente"===t.status,"Em andamento"===t.status,"Conclu\xeddo"===t.status)),e.xp6(1),e.Oqu(t.status),e.xp6(3),e.Q6J("ngForOf",t.details),e.xp6(2),e.Oqu(t.paymentMethod),e.xp6(2),e.Oqu(e.xi3(13,9,t.value,"BRL")),e.xp6(3),e.Oqu(e.xi3(16,12,t.orderDate,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.deliveryDate?e.xi3(19,15,t.deliveryDate,"dd/MM/yyyy"):"Pendente")}}function P(n,i){1&n&&(e.TgZ(0,"tr")(1,"td",24),e._uU(2,"Nenhum pedido encontrado."),e.qZA()())}function b(n,i){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.AsE("",t.name," - ",t.size," bytes")}}function O(n,i){if(1&n&&(e.TgZ(0,"ul"),e.YNc(1,b,2,2,"li",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.newOrder.files)}}function y(n,i){if(1&n&&e.YNc(0,O,2,1,"ul",25),2&n){const t=e.oxw();e.Q6J("ngIf",t.newOrder.files.length)}}function D(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p-checkbox",26),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.selected=o)})("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.calculateValue())}),e.qZA(),e.TgZ(2,"label"),e._uU(3),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngModel",t.selected),e.xp6(2),e.Oqu(t.name)}}const M=()=>({width:"50vw"});let w=(()=>{class n{constructor(){this.orders=[],this.newOrderDialogVisible=!1,this.newOrder={files:[],details:[],observations:"",value:0,orderDate:new Date,deliveryDate:null,resultUrl:""},this.services=[{name:"Upscale",value:50,selected:!1},{name:"Vetoriza\xe7\xe3o",value:100,selected:!1},{name:"Ajuste Fino",value:75,selected:!1}]}ngOnInit(){this.orders=[{fileName:"imagem1.jpg",status:"Pendente",details:["Upscale","Vetoriza\xe7\xe3o","Ajuste Fino"],paymentMethod:"Cart\xe3o de Cr\xe9dito",value:100,orderDate:new Date("2024-07-01"),deliveryDate:null,resultUrl:"assets/FRED1.jpeg"},{fileName:"imagem2.png",status:"Em andamento",details:["Vetoriza\xe7\xe3o"],paymentMethod:"Boleto",value:200,orderDate:new Date("2024-07-02"),deliveryDate:null,resultUrl:"assets/FRED2.jpeg"},{fileName:"imagem3.gif",status:"Conclu\xeddo",details:["Ajuste Fino"],paymentMethod:"PayPal",value:150,orderDate:new Date("2024-07-03"),deliveryDate:new Date("2024-07-05"),resultUrl:"assets/FRED3.jpeg"}]}showNewOrderDialog(){this.newOrderDialogVisible=!0}onUpload(t){for(let a of t.files)this.newOrder.files.push(a)}calculateValue(){this.newOrder.value=this.services.filter(t=>t.selected).reduce((t,a)=>t+a.value,0)}goToPayment(){this.newOrderDialogVisible=!1;const t=this.services.filter(a=>a.selected).map(a=>a.name);this.orders.push({...this.newOrder,status:"Pendente",details:t,orderDate:new Date,resultUrl:"assets/new_order_placeholder.jpeg"}),this.newOrder={files:[],details:[],observations:"",value:0,orderDate:new Date,deliveryDate:null,resultUrl:""},this.services.forEach(a=>a.selected=!1)}downloadResult(t){const a=document.createElement("a");a.href=t.resultUrl,a.download=t.fileName,a.click()}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-painel"]],decls:30,vars:13,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["pButton","","label","Novo Pedido","icon","pi pi-plus",2,"margin-bottom","1rem",3,"click"],["responsiveLayout","scroll",3,"value","rows","paginator"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Novo Pedido",3,"visible","modal","visibleChange"],[1,"p-fluid"],[1,"p-field"],["for","files"],["name","files[]","url","./upload.php","accept","image/*",3,"multiple","maxFileSize","onUpload"],["pTemplate","content"],["for","details"],[4,"ngFor","ngForOf"],["for","observations"],["id","observations","pInputTextarea","","rows","3",3,"ngModel","ngModelChange"],["for","value"],["id","value","type","text","pInputText","","readonly","",3,"ngModel","ngModelChange"],["pButton","","label","Ir para o Pagamento","icon","pi pi-check",3,"click"],[1,"thumbnail",3,"src","alt"],[1,"status-badge",3,"ngClass"],["pButton","","type","button","label","Baixar Resultado","icon","pi pi-download",3,"click"],["colspan","8"],[4,"ngIf"],["binary","true",3,"ngModel","ngModelChange","onChange"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),e._uU(4,"Vis\xe3o Geral dos Pedidos"),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return o.showNewOrderDialog()}),e.qZA(),e.TgZ(6,"p-table",4),e.YNc(7,C,17,0,"ng-template",5)(8,U,22,22,"ng-template",6)(9,P,3,0,"ng-template",7),e.qZA()()()(),e.TgZ(10,"p-dialog",8),e.NdJ("visibleChange",function(s){return o.newOrderDialogVisible=s}),e.TgZ(11,"div",9)(12,"div",10)(13,"label",11),e._uU(14,"Arquivos"),e.qZA(),e.TgZ(15,"p-fileUpload",12),e.NdJ("onUpload",function(s){return o.onUpload(s)}),e.YNc(16,y,1,1,"ng-template",13),e.qZA()(),e.TgZ(17,"div",10)(18,"label",14),e._uU(19,"Detalhes"),e.qZA(),e.YNc(20,D,4,2,"div",15),e.qZA(),e.TgZ(21,"div",10)(22,"label",16),e._uU(23,"Observa\xe7\xf5es"),e.qZA(),e.TgZ(24,"textarea",17),e.NdJ("ngModelChange",function(s){return o.newOrder.observations=s}),e.qZA()(),e.TgZ(25,"div",10)(26,"label",18),e._uU(27,"Valor"),e.qZA(),e.TgZ(28,"input",19),e.NdJ("ngModelChange",function(s){return o.newOrder.value=s}),e.qZA()(),e.TgZ(29,"button",20),e.NdJ("click",function(){return o.goToPayment()}),e.qZA()()()),2&a&&(e.xp6(6),e.Q6J("value",o.orders)("rows",10)("paginator",!0),e.xp6(4),e.Akn(e.DdM(12,M)),e.Q6J("visible",o.newOrderDialogVisible)("modal",!0),e.xp6(5),e.Q6J("multiple",!0)("maxFileSize",1e6),e.xp6(5),e.Q6J("ngForOf",o.services),e.xp6(4),e.Q6J("ngModel",o.newOrder.observations),e.xp6(4),e.Q6J("ngModel",o.newOrder.value))},dependencies:[d.mk,d.sg,d.O5,u.Fj,u.JJ,u.On,_.jx,g.Hq,m.o,f.g,v.iA,h.V,Z.p,T.XZ,d.H9,d.uU],styles:[".status-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:.25rem;color:#fff}.status-badge.status-pendente[_ngcontent-%COMP%]{background-color:#f0ad4e}.status-badge.status-em-andamento[_ngcontent-%COMP%]{background-color:#5bc0de}.status-badge.status-concluido[_ngcontent-%COMP%]{background-color:#5cb85c}.thumbnail[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:.25rem}"]})}return n})(),J=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[c.Bz.forChild([{path:"",component:w}]),c.Bz]})}return n})();var N=l(7327),q=l(6760),F=l(1480),E=l(3965),j=l(9663),V=l(5167),Q=l(8062),z=l(4055);let B=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[d.ez,u.u5,J,N.WN,q._8,F.Gg,E.kW,j.zz,V.L$,Q.XH,z.q4,f.A,m.j,v.U$,g.hJ,h.S,Z.O,T.nD]})}return n})()}}]);