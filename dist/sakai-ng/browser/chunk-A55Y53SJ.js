import{a as Pe}from"./chunk-Y4G5GUBV.js";import{b as Me}from"./chunk-JGDHNRTM.js";import"./chunk-RMFINLED.js";import{a as $}from"./chunk-TOYKGQGS.js";import{k as ce}from"./chunk-KG7YTVHA.js";import"./chunk-NVGTPZR2.js";import"./chunk-ATI5C2A4.js";import{b as de}from"./chunk-SWT3BTO7.js";import"./chunk-J4AIIC6A.js";import"./chunk-Q2ITSG2L.js";import"./chunk-KPXVOOCJ.js";import"./chunk-TNABXVKL.js";import{a as ve,b as Ce}from"./chunk-6Z3H2M45.js";import"./chunk-VLJCDE2P.js";import{b as le,d as pe,f as ge,g as _e}from"./chunk-QVONU2JU.js";import{a as fe,b as ue}from"./chunk-CKGIWHXC.js";import{b as me}from"./chunk-3Y45ZQMX.js";import{b as ie}from"./chunk-PAKM22Z6.js";import{i as re,l as se}from"./chunk-RXT5QTRP.js";import"./chunk-CM56NBY7.js";import"./chunk-YRMYVX5W.js";import"./chunk-XSHLOVSR.js";import"./chunk-KRKZIUB7.js";import{b as ae}from"./chunk-4RWBCLJX.js";import"./chunk-T22KTX4I.js";import"./chunk-YUR3ZCTK.js";import"./chunk-O6DKXQN7.js";import"./chunk-36GPJXQ3.js";import"./chunk-UHFSMSZS.js";import"./chunk-ATZD6M4U.js";import{b as ee,d as ne,e as te,h as oe}from"./chunk-3ZIDJAHB.js";import"./chunk-XSSXK7EZ.js";import{A as Z,y as Y}from"./chunk-CCYSFV2Z.js";import{Cb as K,Da as w,Ea as P,Fa as O,Hb as x,I as _,Ia as A,La as B,M as h,Ma as U,N as v,Na as W,Oa as z,Pa as m,S as f,Sa as H,T as u,Ta as S,U as V,Ua as D,Va as I,Vb as X,Ya as G,Yb as N,aa as L,ca as y,da as l,e as T,ea as k,oa as C,pa as b,qa as g,ra as j,sa as F,ta as R,xa as r,xb as Q,ya as a,yb as q,za as M,zb as J}from"./chunk-EOM5JP26.js";var Oe=(()=>{class t{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=h({type:t,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:10,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(n,e){n&1&&(r(0,"div",0),V(),r(1,"svg",1),M(2,"circle",2),a()()),n&2&&(g("ngStyle",e.style)("ngClass",e.styleClass),b("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),l(),j("animation-duration",e.animationDuration),b("data-pc-section","root"),l(),b("fill",e.fill)("stroke-width",e.strokeWidth))},dependencies:[Q,K],styles:[`@layer primeng{.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}
`],encapsulation:2,changeDetection:0})}return t})(),he=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=v({type:t});static \u0275inj=_({imports:[x]})}return t})();var ke=["fileInput"],Se=()=>({width:"50px",height:"50px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"});function De(t,i){t&1&&(r(0,"div",17)(1,"div",18),m(2," LARGUE A IMAGEM AQUI "),a()())}function Ie(t,i){if(t&1){let c=w();r(0,"li"),M(1,"img",21),r(2,"span"),m(3),a(),r(4,"button",22),P("click",function(){let e=f(c).index,o=O(2);return u(o.removeFile(e))}),a()()}if(t&2){let c=i.$implicit;l(),A("alt",c.file.name),g("src",c.objectURL,L),l(2),H("",c.file.name," - ",c.file.size," bytes")}}function Ne(t,i){if(t&1&&(r(0,"div",19)(1,"ul"),C(2,Ie,5,4,"li",20),a()()),t&2){let c=O();l(2),g("ngForOf",c.newOrder.files)}}function Ee(t,i){if(t&1){let c=w();r(0,"p-checkbox",23),I("ngModelChange",function(e){let o=f(c).$implicit,s=O();return D(s.newOrder.services[o.name],e)||(s.newOrder.services[o.name]=e),u(e)}),a()}if(t&2){let c=i.$implicit,n=O();S("ngModel",n.newOrder.services[c.name]),g("label",c.name)}}function Te(t,i){t&1&&M(0,"p-progressSpinner",24),t&2&&R(G(2,Se))}var ye=(()=>{let i=class i{constructor(n,e){this.servicoService=n,this.router=e,this.isDragging=!1,this.showPaymentButton=!1,this.isLoading=!0,this.servicos=[],this.newOrder={files:[],services:{},observations:"",value:0,orderDate:new Date,deliveryDate:null,resultUrl:""}}ngOnInit(){this.createCheckoutButton(),this.loadServicos()}loadServicos(){this.servicoService.getServicos().subscribe(n=>{this.servicos=n,this.servicos.forEach(e=>{this.newOrder.services[e.name]=!1})})}onFileSelected(n){let e=n.target.files;for(let o of e){let s=URL.createObjectURL(o);this.newOrder.files.push({file:o,objectURL:s})}}removeFile(n){this.newOrder.files.splice(n,1)}onDragOver(n){n.preventDefault(),this.isDragging=!0}onDragLeave(n){n.target===document.body&&(this.isDragging=!1)}onDrop(n){n.preventDefault(),this.isDragging=!1;let e=n.dataTransfer.files;for(let o of e){let s=URL.createObjectURL(o);this.newOrder.files.push({file:o,objectURL:s})}}calculateValue(){this.newOrder.value=this.servicos.reduce((n,e)=>n+(this.newOrder.services[e.name]?e.price:0),0)}goToPayment(){this.router.navigate(["/pagamento"])}createCheckoutButton(){return T(this,null,function*(){try{let e=(yield $.get("http://localhost:3000/create_preference")).data.preferenceId;yield new window.MercadoPago("TEST-a45e1791-b190-4123-843b-7a4376e382bd").bricks().create("wallet","wallet_container",{initialization:{preferenceId:e},customization:{texts:{valueProp:"smart_option"}}}),this.isLoading=!1}catch(n){console.error("Error creating preference:",n),this.isLoading=!1}})}};i.\u0275fac=function(e){return new(e||i)(k(Pe),k(X))},i.\u0275cmp=h({type:i,selectors:[["app-novo-pedido"]],viewQuery:function(e,o){if(e&1&&B(ke,5),e&2){let s;U(s=W())&&(o.fileInput=s.first)}},hostBindings:function(e,o){e&1&&P("dragover",function(p){return o.onDragOver(p)},!1,y)("dragleave",function(p){return o.onDragLeave(p)},!1,y)("drop",function(p){return o.onDrop(p)},!1,y)},decls:30,vars:7,consts:[["fileInput",""],[1,"novo-pedido-container"],["class","overlay",4,"ngIf"],[1,"card"],[1,"upload-area",3,"dragover","drop","dragleave"],[1,"drag-drop-area"],[1,"upload-actions"],["pButton","","label","Escolha a imagem para vetorizar",3,"click"],["type","file","multiple","",2,"display","none",3,"change"],["class","uploaded-files",4,"ngIf"],[1,"services"],["binary","true",3,"ngModel","label","ngModelChange",4,"ngFor","ngForOf"],[1,"p-field"],["for","observations"],["id","observations","pInputTextarea","","rows","3",3,"ngModelChange","ngModel"],["id","wallet_container"],["ariaLabel","loading",3,"style",4,"ngIf"],[1,"overlay"],[1,"overlay-content"],[1,"uploaded-files"],[4,"ngFor","ngForOf"],[1,"thumbnail",3,"src","alt"],["pButton","","icon","pi pi-times",1,"remove-btn",3,"click"],["binary","true",3,"ngModelChange","ngModel","label"],["ariaLabel","loading"]],template:function(e,o){if(e&1){let s=w();r(0,"div",1),C(1,De,3,0,"div",2),r(2,"div",3)(3,"h2"),m(4,"Rastreie pixels para vetores em full color"),a(),r(5,"p"),m(6,"Converta suas imagens PNG e JPG para vetores CorelDRAW e PDF"),a(),r(7,"div",4),P("dragover",function(d){return f(s),u(o.onDragOver(d))})("drop",function(d){return f(s),u(o.onDrop(d))})("dragleave",function(d){return f(s),u(o.onDragLeave(d))}),r(8,"div",5)(9,"span"),m(10,"ARRASTE A IMAGEM AQUI PARA COME\xC7AR"),a()()(),r(11,"div",6)(12,"span"),m(13,"ou"),a(),r(14,"button",7),P("click",function(){f(s);let d=z(16);return u(d.click())}),a(),r(15,"input",8,0),P("change",function(d){return f(s),u(o.onFileSelected(d))}),a(),r(17,"span"),m(18,"ou pressione CTRL + V"),a()(),C(19,Ne,3,1,"div",9),r(20,"h5"),m(21,"Servi\xE7os"),a(),r(22,"div",10),C(23,Ee,1,2,"p-checkbox",11),a(),r(24,"div",12)(25,"label",13),m(26,"Observa\xE7\xF5es"),a(),r(27,"textarea",14),I("ngModelChange",function(d){return f(s),D(o.newOrder.observations,d)||(o.newOrder.observations=d),u(d)}),a()(),M(28,"div",15),a()(),C(29,Te,1,3,"p-progressSpinner",16)}e&2&&(F("blurred",o.isLoading),l(),g("ngIf",o.isDragging),l(18),g("ngIf",o.newOrder.files.length),l(4),g("ngForOf",o.servicos),l(4),S("ngModel",o.newOrder.observations),l(2),g("ngIf",o.isLoading))},dependencies:[q,J,ee,ne,te,Y,fe,ve,Oe],styles:[".novo-pedido-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;min-height:100vh}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:80%;max-width:800px;padding:2rem;box-shadow:0 2px 10px #0000001a;border-radius:8px;text-align:center}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]{margin:2rem 0;border:2px dashed #ccc;padding:4rem;border-radius:8px;display:flex;align-items:center;justify-content:center;position:relative;height:200px}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]:hover{background-color:#f9f9f9;opacity:5%}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]   .drag-drop-area[_ngcontent-%COMP%]{text-align:center}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:1rem}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 .5rem}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;border-radius:25px;margin:0 .5rem;padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;cursor:pointer}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .upload-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .uploaded-files[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .uploaded-files[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .uploaded-files[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:.9rem;display:flex;align-items:center}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .uploaded-files[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:8px;margin-right:.5rem}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .uploaded-files[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;margin-left:.5rem}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .uploaded-files[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{background:none;border:none;color:red;cursor:pointer}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .uploaded-files[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{color:#c00}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .services[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:1rem 0}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .services[_ngcontent-%COMP%]   p-checkbox[_ngcontent-%COMP%]{margin-right:1rem}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .services[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:2rem}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .p-field[_ngcontent-%COMP%]{margin-top:2rem}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .p-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;width:100%;padding:.75rem;border-radius:50px;background-color:#007bff;color:#fff;border:none;cursor:pointer}.novo-pedido-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.novo-pedido-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#ffffffe6;display:flex;justify-content:center;align-items:center;z-index:1000}.novo-pedido-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]{font-size:2rem;color:#333;font-weight:700}.blurred[_ngcontent-%COMP%]{filter:blur(5px);pointer-events:none;-webkit-user-select:none;user-select:none}"]});let t=i;return t})();var be=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=v({type:i}),i.\u0275inj=_({imports:[N.forChild([{path:"",component:ye}]),N]});let t=i;return t})();var un=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=v({type:i}),i.\u0275inj=_({imports:[x,oe,be,le,ie,pe,re,ge,se,_e,me,ue,ae,ce,Z,Me,de,Ce,he]});let t=i;return t})();export{un as NovoPedidoModule};
