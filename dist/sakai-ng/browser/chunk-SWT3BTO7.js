import{a as Te,b as P}from"./chunk-J4AIIC6A.js";import{a as R}from"./chunk-Q2ITSG2L.js";import{a as we,b as j}from"./chunk-KPXVOOCJ.js";import{a as O}from"./chunk-ATZD6M4U.js";import{A as z,b as ge,l as ve,o as be,p as B,q as U,s as V,u as Ce,v as xe,w as ye,y as Ie,z as Fe}from"./chunk-CCYSFV2Z.js";import{Aa as y,Ba as I,Ca as k,Cb as de,Da as x,Db as _e,Ea as v,Fa as s,Hb as ue,I as Q,Ib as D,Jb as M,Ka as X,Kb as me,La as L,M as E,Ma as F,N as A,Na as T,Nb as fe,Oa as ee,Pa as w,Qa as S,Rb as he,S as u,T as m,U as q,V as W,X as $,Xa as te,Y as h,Z,Za as ie,_a as ne,aa as K,ab as ae,da as l,ea as g,ha as G,ia as Y,jb as le,ma as J,mb as oe,oa as p,pa as _,qa as a,ua as C,ub as se,xa as c,xb as re,ya as d,yb as pe,za as f,zb as ce}from"./chunk-EOM5JP26.js";var H=(()=>{class t extends ye{pathId;ngOnInit(){this.pathId="url(#"+ge()+")"}static \u0275fac=(()=>{let e;return function(n){return(e||(e=W(t)))(n||t)}})();static \u0275cmp=E({type:t,selectors:[["UploadIcon"]],standalone:!0,features:[J,te],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,n){i&1&&(q(),c(0,"svg",0)(1,"g"),f(2,"path",1),d(),c(3,"defs")(4,"clipPath",2),f(5,"rect",3),d()()()),i&2&&(C(n.getClassNames()),_("aria-label",n.ariaLabel)("aria-hidden",n.ariaHidden)("role",n.role),l(),_("clip-path",n.pathId),l(3),a("id",n.pathId))},encapsulation:2})}return t})();var Me=["advancedfileinput"],Ve=["basicfileinput"],ke=["content"],De=(t,o)=>({"p-focus":t,"p-disabled":o}),Be=t=>({$implicit:t}),Oe=(t,o,e,i)=>({"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":t,"p-fileupload-choose-selected":o,"p-focus":e,"p-disabled":i});function ze(t,o){if(t&1&&f(0,"span",20),t&2){let e=s(2);C(e.chooseIcon),a("ngClass","p-button-icon p-button-icon-left"),_("aria-label",!0)("data-pc-section","chooseicon")}}function Re(t,o){t&1&&f(0,"PlusIcon",23),t&2&&(a("styleClass","p-button-icon p-button-icon-left"),_("aria-label",!0)("data-pc-section","chooseicon"))}function Pe(t,o){}function je(t,o){t&1&&p(0,Pe,0,0,"ng-template")}function He(t,o){if(t&1&&(c(0,"span",24),p(1,je,1,0,null,14),d()),t&2){let e=s(3);_("aria-label",!0)("data-pc-section","chooseicon"),l(),a("ngTemplateOutlet",e.chooseIconTemplate)}}function Ne(t,o){if(t&1&&(y(0),p(1,Re,1,3,"PlusIcon",21)(2,He,2,3,"span",22),I()),t&2){let e=s(2);l(),a("ngIf",!e.chooseIconTemplate),l(),a("ngIf",e.chooseIconTemplate)}}function Qe(t,o){if(t&1&&f(0,"span",27),t&2){let e=s(3);a("ngClass",e.uploadIcon),_("aria-hidden",!0)}}function Ae(t,o){t&1&&f(0,"UploadIcon",23),t&2&&a("styleClass","p-button-icon p-button-icon-left")}function qe(t,o){}function We(t,o){t&1&&p(0,qe,0,0,"ng-template")}function $e(t,o){if(t&1&&(c(0,"span",24),p(1,We,1,0,null,14),d()),t&2){let e=s(4);_("aria-hidden",!0),l(),a("ngTemplateOutlet",e.uploadIconTemplate)}}function Ze(t,o){if(t&1&&(y(0),p(1,Ae,1,1,"UploadIcon",21)(2,$e,2,2,"span",22),I()),t&2){let e=s(3);l(),a("ngIf",!e.uploadIconTemplate),l(),a("ngIf",e.uploadIconTemplate)}}function Ke(t,o){if(t&1){let e=x();c(0,"p-button",25),v("onClick",function(){u(e);let n=s(2);return m(n.upload())}),p(1,Qe,1,2,"span",26)(2,Ze,3,2,"ng-container",11),d()}if(t&2){let e=s(2);a("label",e.uploadButtonLabel)("disabled",!e.hasFiles()||e.isFileLimitExceeded())("styleClass",e.uploadStyleClass),l(),a("ngIf",e.uploadIcon),l(),a("ngIf",!e.uploadIcon)}}function Ge(t,o){if(t&1&&f(0,"span",27),t&2){let e=s(3);a("ngClass",e.cancelIcon)}}function Ye(t,o){t&1&&f(0,"TimesIcon",23),t&2&&(a("styleClass","p-button-icon p-button-icon-left"),_("aria-hidden",!0))}function Je(t,o){}function Xe(t,o){t&1&&p(0,Je,0,0,"ng-template")}function et(t,o){if(t&1&&(c(0,"span",24),p(1,Xe,1,0,null,14),d()),t&2){let e=s(4);_("aria-hidden",!0),l(),a("ngTemplateOutlet",e.cancelIconTemplate)}}function tt(t,o){if(t&1&&(y(0),p(1,Ye,1,2,"TimesIcon",21)(2,et,2,2,"span",22),I()),t&2){let e=s(3);l(),a("ngIf",!e.cancelIconTemplate),l(),a("ngIf",e.cancelIconTemplate)}}function it(t,o){if(t&1){let e=x();c(0,"p-button",25),v("onClick",function(){u(e);let n=s(2);return m(n.clear())}),p(1,Ge,1,1,"span",26)(2,tt,3,2,"ng-container",11),d()}if(t&2){let e=s(2);a("label",e.cancelButtonLabel)("disabled",!e.hasFiles()||e.uploading)("styleClass",e.cancelStyleClass),l(),a("ngIf",e.cancelIcon),l(),a("ngIf",!e.cancelIcon)}}function nt(t,o){t&1&&k(0)}function at(t,o){if(t&1&&f(0,"p-progressBar",28),t&2){let e=s(2);a("value",e.progress)("showValue",!1)}}function lt(t,o){if(t&1){let e=x();c(0,"img",35),v("error",function(n){u(e);let r=s(5);return m(r.imageError(n))}),d()}if(t&2){let e=s().$implicit,i=s(4);a("src",e.objectURL,K)("width",i.previewWidth)}}function ot(t,o){t&1&&f(0,"TimesIcon")}function st(t,o){}function rt(t,o){t&1&&p(0,st,0,0,"ng-template")}function pt(t,o){if(t&1){let e=x();c(0,"div",31)(1,"div"),p(2,lt,1,2,"img",32),d(),c(3,"div",33),w(4),d(),c(5,"div"),w(6),d(),c(7,"div")(8,"button",34),v("click",function(n){let r=u(e).index,b=s(4);return m(b.remove(n,r))}),p(9,ot,1,0,"TimesIcon",11)(10,rt,1,0,null,14),d()()()}if(t&2){let e=o.$implicit,i=s(4);l(2),a("ngIf",i.isImage(e)),l(2),S(e.name),l(2),S(i.formatSize(e.size)),l(2),C(i.removeStyleClass),a("disabled",i.uploading),l(),a("ngIf",!i.cancelIconTemplate),l(),a("ngTemplateOutlet",i.cancelIconTemplate)}}function ct(t,o){if(t&1&&(c(0,"div"),p(1,pt,11,8,"div",30),d()),t&2){let e=s(3);l(),a("ngForOf",e.files)}}function dt(t,o){}function _t(t,o){if(t&1&&(c(0,"div"),p(1,dt,0,0,"ng-template",36),d()),t&2){let e=s(3);l(),a("ngForOf",e.files)("ngForTemplate",e.fileTemplate)}}function ut(t,o){if(t&1&&(c(0,"div",29),p(1,ct,2,1,"div",11)(2,_t,2,2,"div",11),d()),t&2){let e=s(2);l(),a("ngIf",!e.fileTemplate),l(),a("ngIf",e.fileTemplate)}}function mt(t,o){t&1&&k(0)}function ft(t,o){if(t&1){let e=x();c(0,"div",6)(1,"div",7)(2,"span",8),v("focus",function(){u(e);let n=s();return m(n.onFocus())})("blur",function(){u(e);let n=s();return m(n.onBlur())})("click",function(){u(e);let n=s();return m(n.choose())})("keydown.enter",function(){u(e);let n=s();return m(n.choose())}),c(3,"input",9,0),v("change",function(n){u(e);let r=s();return m(r.onFileSelect(n))}),d(),p(5,ze,1,5,"span",10)(6,Ne,3,2,"ng-container",11),c(7,"span",12),w(8),d()(),p(9,Ke,3,5,"p-button",13)(10,it,3,5,"p-button",13)(11,nt,1,0,"ng-container",14),d(),c(12,"div",15,1),v("dragenter",function(n){u(e);let r=s();return m(r.onDragEnter(n))})("dragleave",function(n){u(e);let r=s();return m(r.onDragLeave(n))})("drop",function(n){u(e);let r=s();return m(r.onDrop(n))}),p(14,at,1,2,"p-progressBar",16),f(15,"p-messages",17),p(16,ut,3,2,"div",18)(17,mt,1,0,"ng-container",19),d()()}if(t&2){let e=s();C(e.styleClass),a("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",e.style),_("data-pc-name","fileupload")("data-pc-section","root"),l(),_("data-pc-section","buttonbar"),l(),C(e.chooseStyleClass),a("ngClass",ne(30,De,e.focus,e.disabled||e.isChooseDisabled())),_("data-pc-section","choosebutton"),l(),a("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),_("title","")("data-pc-section","input"),l(2),a("ngIf",e.chooseIcon),l(),a("ngIf",!e.chooseIcon),l(),_("data-pc-section","choosebuttonlabel"),l(),S(e.chooseButtonLabel),l(),a("ngIf",!e.auto&&e.showUploadButton),l(),a("ngIf",!e.auto&&e.showCancelButton),l(),a("ngTemplateOutlet",e.toolbarTemplate),l(),_("data-pc-section","content"),l(2),a("ngIf",e.hasFiles()),l(),a("value",e.msgs)("enableService",!1),l(),a("ngIf",e.hasFiles()),l(),a("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",ie(33,Be,e.files))}}function ht(t,o){if(t&1&&f(0,"span",27),t&2){let e=s(3);a("ngClass",e.uploadIcon)}}function gt(t,o){t&1&&f(0,"UploadIcon",23),t&2&&a("styleClass","p-button-icon p-button-icon-left")}function vt(t,o){}function bt(t,o){t&1&&p(0,vt,0,0,"ng-template")}function Ct(t,o){if(t&1&&(c(0,"span",24),p(1,bt,1,0,null,14),d()),t&2){let e=s(4);l(),a("ngTemplateOutlet",e.uploadIconTemplate)}}function xt(t,o){if(t&1&&(y(0),p(1,gt,1,1,"UploadIcon",21)(2,Ct,2,1,"span",22),I()),t&2){let e=s(3);l(),a("ngIf",!e.uploadIconTemplate),l(),a("ngIf",e.uploadIconTemplate)}}function yt(t,o){if(t&1&&(y(0),p(1,ht,1,1,"span",26)(2,xt,3,2,"ng-container",11),I()),t&2){let e=s(2);l(),a("ngIf",e.uploadIcon),l(),a("ngIf",!e.uploadIcon)}}function It(t,o){if(t&1&&f(0,"span",43),t&2){let e=s(3);a("ngClass",e.chooseIcon)}}function Ft(t,o){t&1&&f(0,"PlusIcon",23),t&2&&(a("styleClass","p-button-icon p-button-icon-left pi"),_("aria-hidden",!0)("data-pc-section","uploadicon"))}function Tt(t,o){}function wt(t,o){t&1&&p(0,Tt,0,0,"ng-template")}function St(t,o){if(t&1&&(c(0,"span",45),p(1,wt,1,0,null,14),d()),t&2){let e=s(4);_("aria-hidden",!0)("data-pc-section","uploadicon"),l(),a("ngTemplateOutlet",e.chooseIconTemplate)}}function Ut(t,o){if(t&1&&(y(0),p(1,Ft,1,3,"PlusIcon",21)(2,St,2,3,"span",44),I()),t&2){let e=s(3);l(),a("ngIf",!e.chooseIconTemplate),l(),a("ngIf",e.chooseIconTemplate)}}function Et(t,o){if(t&1&&p(0,It,1,1,"span",42)(1,Ut,3,2,"ng-container",11),t&2){let e=s(2);a("ngIf",e.chooseIcon),l(),a("ngIf",!e.chooseIcon)}}function Lt(t,o){if(t&1&&(c(0,"span",12),w(1),d()),t&2){let e=s(2);_("data-pc-section","label"),l(),S(e.basicButtonLabel)}}function Mt(t,o){if(t&1){let e=x();c(0,"input",46,3),v("change",function(n){u(e);let r=s(2);return m(r.onFileSelect(n))})("focus",function(){u(e);let n=s(2);return m(n.onFocus())})("blur",function(){u(e);let n=s(2);return m(n.onBlur())}),d()}if(t&2){let e=s(2);a("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled),_("data-pc-section","input")}}function Vt(t,o){if(t&1){let e=x();c(0,"div",37),f(1,"p-messages",17),c(2,"span",38),v("click",function(){u(e);let n=s();return m(n.onBasicUploaderClick())})("keydown",function(n){u(e);let r=s();return m(r.onBasicKeydown(n))}),p(3,yt,3,2,"ng-container",39)(4,Et,2,2,"ng-template",null,2,le)(6,Lt,2,2,"span",40)(7,Mt,2,4,"input",41),d()()}if(t&2){let e=ee(5),i=s();_("data-pc-name","fileupload"),l(),a("value",i.msgs)("enableService",!1),l(),C(i.styleClass),a("ngClass",ae(12,Oe,!i.basicButtonLabel,i.hasFiles(),i.focus,i.disabled))("ngStyle",i.style),_("data-pc-section","choosebutton"),l(),a("ngIf",i.hasFiles()&&!i.auto)("ngIfElse",e),l(3),a("ngIf",i.basicButtonLabel),l(),a("ngIf",!i.hasFiles())}}var di=(()=>{class t{document;platformId;renderer;el;sanitizer;zone;http;cd;config;name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;onBeforeUpload=new h;onSend=new h;onUpload=new h;onError=new h;onClear=new h;onRemove=new h;onSelect=new h;onProgress=new h;uploadHandler=new h;onImageError=new h;templates;advancedFileInput;basicFileInput;content;set files(e){this._files=[];for(let i=0;i<e.length;i++){let n=e[i];this.validate(n)&&(this.isImage(n)&&(n.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[i]))),this._files.push(e[i]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;fileTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;uploadIconTemplate;cancelIconTemplate;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;constructor(e,i,n,r,b,N,Se,Ue,Ee){this.document=e,this.platformId=i,this.renderer=n,this.el=r,this.sanitizer=b,this.zone=N,this.http=Se,this.cd=Ue,this.config=Ee}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"file":this.fileTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"toolbar":this.toolbarTemplate=e.template;break;case"chooseicon":this.chooseIconTemplate=e.template;break;case"uploadicon":this.uploadIconTemplate=e.template;break;case"cancelicon":this.cancelIconTemplate=e.template;break;default:this.fileTemplate=e.template;break}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){D(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}getTranslation(e){return this.config.getTranslation(e)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.msgs=[],this.multiple||(this.files=[]);let i=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let n=0;n<i.length;n++){let r=i[n];this.isFileSelected(r)||this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i[n]))),this.files.push(i[n]))}this.onSelect.emit({originalEvent:e,files:i,currentFiles:this.files}),this.fileLimit&&this.checkFileLimit(),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(let i of this.files)if(i.name+i.type+i.size===e.name+e.type+e.size)return!0;return!1}isIE11(){if(D(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(e){return this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(e)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",e.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):this.maxFileSize&&e.size>this.maxFileSize?(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",e.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),!1):!0}isFileTypeValid(e){let i=this.accept?.split(",").map(n=>n.trim());for(let n of i)if(this.isWildcard(n)?this.getTypeClass(e.type)===this.getTypeClass(n):e.type==n||this.getFileExtension(e).toLowerCase()===n.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return e.indexOf("*")!==-1}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let e=new FormData;this.onBeforeUpload.emit({formData:e});for(let i=0;i<this.files.length;i++)e.append(this.name,this.files[i],this.files[i].name);this.http.request(this.method,this.url,{body:e,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(i=>{switch(i.type){case M.Sent:this.onSend.emit({originalEvent:i,formData:e});break;case M.Response:this.uploading=!1,this.progress=0,i.status>=200&&i.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:i,files:this.files})):this.onError.emit({files:this.files}),this.clear();break;case M.UploadProgress:{i.loaded&&(this.progress=Math.round(i.loaded*100/i.total)),this.onProgress.emit({originalEvent:i,progress:this.progress});break}}this.cd.markForCheck()},i=>{this.uploading=!1,this.onError.emit({files:this.files,error:i})})}}clear(){this.files=[],this.uploadedFileCount=0,this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(e,i){this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[i]}),this.files.splice(i,1),this.checkFileLimit()}isFileLimitExceeded(){let i=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=i&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<i}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(){this.msgs??=[],this.isFileLimitExceeded()&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(V.addClass(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.disabled||V.removeClass(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(e){if(!this.disabled){V.removeClass(this.content?.nativeElement,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();let i=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||i&&i.length===1)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){let r=this.getTranslation(U.FILE_SIZE_TYPES);if(e===0)return`0 ${r[0]}`;let b=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,b)).toFixed(3)} ${r[b]}`}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput?.nativeElement.click()}onBasicKeydown(e){switch(e.code){case"Space":case"Enter":this.onBasicUploaderClick(),e.preventDefault();break}}imageError(e){this.onImageError.emit(e)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(U.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(U.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(U.CANCEL)}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)(g(se),g(Z),g(G),g($),g(he),g(Y),g(me),g(oe),g(ve))};static \u0275cmp=E({type:t,selectors:[["p-fileUpload"]],contentQueries:function(i,n,r){if(i&1&&X(r,be,4),i&2){let b;F(b=T())&&(n.templates=b)}},viewQuery:function(i,n){if(i&1&&(L(Me,5),L(Ve,5),L(ke,5)),i&2){let r;F(r=T())&&(n.advancedFileInput=r.first),F(r=T())&&(n.basicFileInput=r.first),F(r=T())&&(n.content=r.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:"multiple",accept:"accept",disabled:"disabled",auto:"auto",withCredentials:"withCredentials",maxFileSize:"maxFileSize",invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:"previewWidth",chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:"showUploadButton",showCancelButton:"showCancelButton",mode:"mode",headers:"headers",customUpload:"customUpload",fileLimit:"fileLimit",uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError"},decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["chooseSection",""],["basicfileinput",""],[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],[1,"p-fileupload-buttonbar"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"focus","blur","click","keydown.enter","ngClass"],["type","file",3,"change","multiple","accept","disabled"],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],[1,"p-button-label"],["type","button",3,"label","disabled","styleClass","onClick",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["type","button",3,"onClick","label","disabled","styleClass"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],[3,"value","showValue"],[1,"p-fileupload-files"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[3,"src","width","error",4,"ngIf"],[1,"p-fileupload-filename"],["type","button","pButton","",1,"p-button-icon-only",3,"click","disabled"],[3,"error","src","width"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","p-button-label",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi"],["type","file",3,"change","focus","blur","accept","multiple","disabled"]],template:function(i,n){i&1&&p(0,ft,18,35,"div",4)(1,Vt,8,17,"div",5),i&2&&(a("ngIf",n.mode==="advanced"),l(),a("ngIf",n.mode==="basic"))},dependencies:()=>[re,pe,ce,_e,de,Ie,Fe,we,Te,Ce,R,H,O],styles:[`@layer primeng{.p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}}
`],encapsulation:2,changeDetection:0})}return t})(),_i=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=A({type:t});static \u0275inj=Q({imports:[ue,fe,B,z,j,P,xe,R,H,O,B,z,j,P]})}return t})();export{di as a,_i as b};
