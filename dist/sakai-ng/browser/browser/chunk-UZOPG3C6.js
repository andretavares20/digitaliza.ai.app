import{a as _}from"./chunk-Y4G5GUBV.js";import{a as ue,b as ve}from"./chunk-JGDHNRTM.js";import"./chunk-RMFINLED.js";import{a as ie,d as te,e as oe,k as re}from"./chunk-KG7YTVHA.js";import"./chunk-NVGTPZR2.js";import"./chunk-ATI5C2A4.js";import{b as ne}from"./chunk-SWT3BTO7.js";import"./chunk-J4AIIC6A.js";import"./chunk-Q2ITSG2L.js";import"./chunk-KPXVOOCJ.js";import"./chunk-TNABXVKL.js";import{b as de}from"./chunk-6Z3H2M45.js";import"./chunk-VLJCDE2P.js";import{b as se,d as ce,f as le,g as pe}from"./chunk-QVONU2JU.js";import{b as me}from"./chunk-CKGIWHXC.js";import{b as ae}from"./chunk-3Y45ZQMX.js";import{b as X}from"./chunk-PAKM22Z6.js";import{i as Y,l as ee}from"./chunk-RXT5QTRP.js";import"./chunk-CM56NBY7.js";import"./chunk-YRMYVX5W.js";import"./chunk-XSHLOVSR.js";import"./chunk-KRKZIUB7.js";import{a as Z,b as $}from"./chunk-4RWBCLJX.js";import"./chunk-T22KTX4I.js";import"./chunk-YUR3ZCTK.js";import"./chunk-O6DKXQN7.js";import"./chunk-36GPJXQ3.js";import"./chunk-UHFSMSZS.js";import"./chunk-ATZD6M4U.js";import{b as G,d as O,e as U,f as J,g as K,h as Q}from"./chunk-3ZIDJAHB.js";import"./chunk-XSSXK7EZ.js";import{A as z,i as d,n as A,o as q,y as H,z as R}from"./chunk-CCYSFV2Z.js";import{Da as B,Ea as m,Fa as E,Fb as j,Hb as L,I as v,M as k,N as f,Pa as l,Qa as T,S as b,T as C,Ta as S,Ua as h,Va as g,Wa as F,Ya as W,Yb as w,a as I,da as a,ea as M,fb as P,hb as V,oa as D,qa as y,ta as N,xa as t,ya as s,za as x}from"./chunk-EOM5JP26.js";var ge=()=>({width:"450px"});function _e(o,e){o&1&&(t(0,"tr")(1,"th",17),l(2,"Nome "),x(3,"p-sortIcon",18),s(),t(4,"th",19),l(5,"Pre\xE7o "),x(6,"p-sortIcon",20),s(),t(7,"th"),l(8,"A\xE7\xF5es"),s()())}function be(o,e){if(o&1){let u=B();t(0,"tr")(1,"td"),l(2),s(),t(3,"td"),l(4),P(5,"currency"),s(),t(6,"td")(7,"button",21),m("click",function(){let r=b(u).$implicit,n=E();return C(n.editServico(r))}),s(),t(8,"button",22),m("click",function(){let r=b(u).$implicit,n=E();return C(n.deleteServico(r))}),s()()()}if(o&2){let u=e.$implicit;a(2),T(u.name),a(2),T(V(5,2,u.price,"BRL"))}}function Ce(o,e){o&1&&(t(0,"tr")(1,"td",23),l(2,"Nenhum servi\xE7o encontrado."),s()())}var Se=(()=>{let e=class e{constructor(i,r){this.servicoService=i,this.messageService=r,this.servicos=[],this.servicoDialog=!1,this.servico={},this.submitted=!1}ngOnInit(){this.loadServicos()}loadServicos(){this.servicoService.getServicos().subscribe(i=>{this.servicos=i})}openNew(){this.servico={},this.submitted=!1,this.servicoDialog=!0}editServico(i){this.servico=I({},i),this.servicoDialog=!0}deleteServico(i){this.servicoService.deleteServico(i.id).subscribe(()=>{this.servicos=this.servicos.filter(r=>r.id!==i.id),this.messageService.add({severity:"success",summary:"Sucesso",detail:"Servi\xE7o deletado com sucesso"})})}saveServico(){this.submitted=!0,this.servico.name.trim()&&(this.servico.id?this.servicoService.updateServico(this.servico).subscribe(i=>{this.servicos[this.findIndexById(i.id)]=i,this.messageService.add({severity:"success",summary:"Sucesso",detail:"Servi\xE7o atualizado com sucesso"})}):this.servicoService.addServico(this.servico).subscribe(i=>{this.servicos=[...this.servicos,i],this.messageService.add({severity:"success",summary:"Sucesso",detail:"Servi\xE7o adicionado com sucesso"})}),this.servicos=[...this.servicos],this.servicoDialog=!1,this.servico={})}findIndexById(i){return this.servicos.findIndex(r=>r.id===i)}hideDialog(){this.servicoDialog=!1,this.submitted=!1}};e.\u0275fac=function(r){return new(r||e)(M(_),M(d))},e.\u0275cmp=k({type:e,selectors:[["app-servicos"]],features:[F([d])],decls:23,vars:10,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["label","Novo Servi\xE7o","icon","pi pi-plus",3,"click"],["responsiveLayout","scroll",3,"value","paginator","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Detalhes do Servi\xE7o",3,"visibleChange","onHide","visible","modal"],[1,"p-fluid"],[1,"p-field"],["for","name"],["id","name","type","text","pInputText","","required","","autofocus","",3,"ngModelChange","ngModel"],["for","price"],["id","price","type","number","pInputText","","required","",3,"ngModelChange","ngModel"],["label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["label","Salvar","icon","pi pi-check",1,"p-button-text",3,"click"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],["pButton","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","p-button-text",3,"click"],["colspan","3"]],template:function(r,n){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),l(4,"Gerenciamento de Servi\xE7os"),s(),t(5,"p-button",3),m("click",function(){return n.openNew()}),s(),t(6,"p-table",4),D(7,_e,9,0,"ng-template",5)(8,be,9,5,"ng-template",6)(9,Ce,3,0,"ng-template",7),s(),t(10,"p-dialog",8),g("visibleChange",function(c){return h(n.servicoDialog,c)||(n.servicoDialog=c),c}),m("onHide",function(){return n.hideDialog()}),t(11,"div",9)(12,"div",10)(13,"label",11),l(14,"Nome"),s(),t(15,"input",12),g("ngModelChange",function(c){return h(n.servico.name,c)||(n.servico.name=c),c}),s()(),t(16,"div",10)(17,"label",13),l(18,"Pre\xE7o"),s(),t(19,"input",14),g("ngModelChange",function(c){return h(n.servico.price,c)||(n.servico.price=c),c}),s()()(),t(20,"p-footer")(21,"p-button",15),m("click",function(){return n.hideDialog()}),s(),t(22,"p-button",16),m("click",function(){return n.saveServico()}),s()()()()()()),r&2&&(a(6),y("value",n.servicos)("paginator",!0)("rows",10),a(4),N(W(9,ge)),S("visible",n.servicoDialog),y("modal",!0),a(5),S("ngModel",n.servico.name),a(4),S("ngModel",n.servico.price))},dependencies:[G,J,O,K,U,A,q,H,R,Z,ie,te,oe,ue,j]});let o=e;return o})();var he=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f({type:e}),e.\u0275inj=v({imports:[w.forChild([{path:"",component:Se}]),w]});let o=e;return o})();var ri=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f({type:e}),e.\u0275inj=v({providers:[_,d],imports:[L,Q,he,se,X,ce,Y,le,ee,pe,ae,me,$,re,z,ve,ne,de]});let o=e;return o})();export{ri as ServicosModule};
