import{a as j}from"./chunk-LOSE3ZCH.js";import{L as U,O as E,Ub as g,a as b,d as R}from"./chunk-3BCS6XGD.js";var A=R((h,m)=>{(function(l,i){typeof define=="function"&&define.amd?define([],i):typeof h<"u"?i():(i(),l.FileSaver={})})(h,function(){"use strict";function l(t,e){return typeof e>"u"?e={autoBom:!1}:typeof e!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\uFEFF",t],{type:t.type}):t}function i(t,e,s){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){c(o.response,e,s)},o.onerror=function(){console.error("could not download file")},o.send()}function w(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,p=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!p?function(t,e,s){var o=r.URL||r.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin===location.origin?n(a):w(a.href)?i(t,e,s):n(a,a.target="_blank")):(a.href=o.createObjectURL(t),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){n(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,s){if(e=e||t.name||"download",typeof t!="string")navigator.msSaveOrOpenBlob(l(t,s),e);else if(w(t))i(t,e,s);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){n(o)})}}:function(t,e,s,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return i(t,e,s);var a=t.type==="application/octet-stream",O=/constructor/i.test(r.HTMLElement)||r.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||a&&O||p)&&typeof FileReader<"u"){var d=new FileReader;d.onloadend=function(){var u=d.result;u=v?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=u:location=u,o=null},d.readAsDataURL(t)}else{var y=r.URL||r.webkitURL,f=y.createObjectURL(t);o?o.location=f:location.href=f,o=null,setTimeout(function(){y.revokeObjectURL(f)},4e4)}});r.saveAs=c.saveAs=c,typeof m<"u"&&(m.exports=c)})});var F=(()=>{let i=class i{constructor(n){this.http=n,this.apiUrl=`${j.apiUrl}/orders`}createOrder(n){return this.http.post(`${this.apiUrl}/create`,n)}applyCoupon(n,r){return this.http.post(`${this.apiUrl}/apply-coupon`,{couponCode:n,orderId:r})}updateOrderStatus(n,r){return this.http.post(`${this.apiUrl}/update-status`,b({id:n},r))}getAllOrders(){return this.http.get(`${this.apiUrl}/admin`)}getOrdersByCliente(n){return this.http.get(`${this.apiUrl}/cliente?clienteId=${n}`)}downloadOrderResult(n){return this.http.get(`${this.apiUrl}/download/${n}`,{responseType:"blob"})}uploadOrderResults(n,r){let p=new FormData;return r.forEach(c=>{p.append("file",c)}),this.http.post(`${this.apiUrl}/upload-results/${n}`,p)}downloadCustomerFilesAsZip(n){return this.http.get(`${this.apiUrl}/download-customer-files/${n}`,{responseType:"blob"})}};i.\u0275fac=function(r){return new(r||i)(E(g))},i.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"});let l=i;return l})();export{A as a,F as b};
