import{a as W}from"./chunk-BZBN2ROA.js";import{a as z,b as R}from"./chunk-H54GWIDL.js";import{a as B}from"./chunk-IFKN3HSV.js";import{b as O}from"./chunk-J3TP2UVK.js";import"./chunk-3YPPFNZB.js";import{b as D}from"./chunk-OKBPCXC6.js";import"./chunk-CUBNLFTF.js";import"./chunk-LOSE3ZCH.js";import"./chunk-2SFWHTMH.js";import{a as F,b as L}from"./chunk-EHK26MBQ.js";import"./chunk-HA5ST3ZF.js";import"./chunk-W4S3GAQZ.js";import"./chunk-F7RNTJJK.js";import{b as P,e as j,f as T,i as N}from"./chunk-ZELHADQZ.js";import"./chunk-XSSXK7EZ.js";import{i as k,k as I}from"./chunk-DPFCPVSA.js";import"./chunk-VISTKU2Y.js";import{$a as M,Fa as r,Ga as a,Ha as b,Jb as E,Ma as u,N as c,R as C,Rb as _,S as d,Xa as p,ab as y,bb as x,cc as S,ec as w,hc as g,ka as s,la as m,wa as v,ya as l}from"./chunk-OQCQAMD7.js";function V(o,e){o&1&&(r(0,"div",11),b(1,"p-progressSpinner"),r(2,"p"),p(3,"Carregando..."),a()())}var U=(()=>{let e=class e{constructor(n,i,t){this.userService=n,this.router=i,this.route=t,this.email="",this.code="",this.isLoading=!1,this.email=this.route.snapshot.queryParamMap.get("email")||""}confirmCode(){console.log("Enviando email e c\xF3digo para confirma\xE7\xE3o:",this.email,this.code),console.log(1),this.userService.confirmUser(this.email,this.code).subscribe({next:n=>{console.log(2),console.log("Resposta da confirma\xE7\xE3o:",n),console.log(3),alert("Conta ativada com sucesso!"),console.log(3),this.router.navigate(["/auth/login"]),console.log(4)},error:n=>{console.error("Erro na confirma\xE7\xE3o:",n),alert("C\xF3digo inv\xE1lido. Tente novamente.")}})}resendCode(){this.isLoading=!0,this.userService.resendConfirmationCode(this.email).subscribe({next:()=>{this.isLoading=!1,alert("C\xF3digo reenviado para o seu email.")},error:()=>{this.isLoading=!1,alert("Erro ao reenviar o c\xF3digo.")}})}};e.\u0275fac=function(i){return new(i||e)(m(B),m(w),m(S))},e.\u0275cmp=C({type:e,selectors:[["app-confirmation"]],decls:13,vars:4,consts:[[1,"confirmation-container"],["header","Confirma\xE7\xE3o de Conta",1,"confirmation-card"],[1,"confirmation-instruction"],[1,"p-fluid"],[1,"p-field"],["for","code"],["pInputText","","id","code","placeholder","Digite o c\xF3digo de confirma\xE7\xE3o",3,"ngModelChange","ngModel"],[1,"p-field","buttons"],["pButton","","label","Confirmar Conta","icon","pi pi-check",3,"click","disabled"],["pButton","","label","Reenviar C\xF3digo","icon","pi pi-refresh",1,"p-button-secondary",3,"click","disabled"],["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"]],template:function(i,t){i&1&&(r(0,"div",0)(1,"p-card",1)(2,"p",2),p(3," Insira o c\xF3digo de confirma\xE7\xE3o enviado para o seu email. "),a(),r(4,"div",3)(5,"div",4)(6,"label",5),p(7,"C\xF3digo de Confirma\xE7\xE3o"),a(),r(8,"input",6),x("ngModelChange",function(f){return y(t.code,f)||(t.code=f),f}),a()(),r(9,"div",7)(10,"button",8),u("click",function(){return t.confirmCode()}),a(),r(11,"button",9),u("click",function(){return t.resendCode()}),a()()()()(),v(12,V,4,0,"div",10)),i&2&&(s(8),M("ngModel",t.code),s(2),l("disabled",t.isLoading),s(),l("disabled",t.isLoading),s(),l("ngIf",t.isLoading))},dependencies:[E,P,j,T,F,k,z],styles:[".confirmation-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;padding:1rem;box-sizing:border-box;position:relative}.confirmation-card[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:2rem 1.5rem;text-align:center;box-shadow:0 4px 12px #00000026;border-radius:8px;background-color:#2a2a2a;color:#fff}.confirmation-instruction[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:1.1rem;color:#ccc}.p-field[_ngcontent-%COMP%]{margin-bottom:1.5rem}.p-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ccc;font-weight:700}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;border-radius:8px;color:#fff;font-size:1.2rem}"]});let o=e;return o})();var q=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d({type:e}),e.\u0275inj=c({imports:[g.forChild([{path:"",component:U}]),g]});let o=e;return o})();var G={validation:!0},ge=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d({type:e}),e.\u0275inj=c({providers:[W(G)],imports:[_,q,N,L,O,I,D,R]});let o=e;return o})();export{ge as ConfirmationModule};
