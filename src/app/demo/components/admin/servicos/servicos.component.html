<div class="grid">
  <div class="col-12">
      <div class="card">
          <h5>Gerenciamento de Serviços</h5>
          <p-button label="Novo Serviço" icon="pi pi-plus" (click)="openNew()"></p-button>
          <p-table [value]="servicos" [paginator]="true" [rows]="10" responsiveLayout="scroll">
              <ng-template pTemplate="header">
                  <tr>
                      <th pSortableColumn="name">Nome <p-sortIcon field="name"></p-sortIcon></th>
                      <th pSortableColumn="price">Preço <p-sortIcon field="price"></p-sortIcon></th>
                      <th>Ações</th>
                  </tr>
              </ng-template>
              <ng-template pTemplate="body" let-servico>
                  <tr>
                      <td>{{servico.name}}</td>
                      <td>{{servico.price | currency:'BRL'}}</td>
                      <td>
                          <button pButton icon="pi pi-pencil" class="p-button-rounded p-button-text" (click)="editServico(servico)"></button>
                          <button pButton icon="pi pi-trash" class="p-button-rounded p-button-danger p-button-text" (click)="deleteServico(servico)"></button>
                      </td>
                  </tr>
              </ng-template>
              <ng-template pTemplate="emptymessage">
                  <tr>
                      <td colspan="3">Nenhum serviço encontrado.</td>
                  </tr>
              </ng-template>
          </p-table>

          <p-dialog header="Detalhes do Serviço" [(visible)]="servicoDialog" [modal]="true" [style]="{width: '450px'}" (onHide)="hideDialog()">
              <div class="p-fluid">
                  <div class="p-field">
                      <label for="name">Nome</label>
                      <input id="name" type="text" pInputText [(ngModel)]="servico.name" required autofocus>
                  </div>
                  <div class="p-field">
                      <label for="price">Preço</label>
                      <input id="price" type="number" pInputText [(ngModel)]="servico.price" required>
                  </div>
              </div>

              <p-footer>
                  <p-button label="Cancelar" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></p-button>
                  <p-button label="Salvar" icon="pi pi-check" class="p-button-text" (click)="saveServico()"></p-button>
              </p-footer>
          </p-dialog>
      </div>
  </div>
</div>
